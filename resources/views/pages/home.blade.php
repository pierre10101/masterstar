@extends('layouts.default')
@section('content')
<section class="py-8">
    <div class="container px-4 mx-auto flex flex-col justify-center">
        <h3 class="text-xl text-center font-bold mb-12">Github PHP Repository Ranking</h3>
        @if($source === 'github')
            @foreach ($provider as $row)
            <div class="pl-4 pr-6 py-4 mb-2 bg-white shadow rounded">
                <div x-data="{ open: false }" class="flex flex-wrap items-center -mx-4">
                    <div class="w-full md:w-3/6 mb-4 md:mb-0 px-4 flex items-center">
                        <img class="mr-3 h-6" src="{{$row['owner']['avatar_url']}}" alt="">
                        <h4 class="text-xs font-medium">
                            {{$row['name']}}
                        </h4>
                    </div>
                    <div class="w-auto ml-auto mr-16 px-4 flex items-center text-xs text-gray-500">
                        <span class="mr-1">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M7.00017 0.333344C5.68162 0.333344 4.39269 0.724337 3.29636 1.45688C2.20004 2.18942 1.34555 3.23061 0.840969 4.44879C0.336385 5.66696 0.204362 7.00741 0.461597 8.30061C0.718832 9.59382 1.35377 10.7817 2.28612 11.7141C3.21847 12.6464 4.40636 13.2813 5.69956 13.5386C6.99277 13.7958 8.33321 13.6638 9.55139 13.1592C10.7696 12.6546 11.8108 11.8001 12.5433 10.7038C13.2758 9.60748 13.6668 8.31855 13.6668 7.00001C13.6649 5.2325 12.9619 3.53795 11.712 2.28814C10.4622 1.03832 8.76767 0.335309 7.00017 0.333344ZM7.00017 12.3333C5.94533 12.3333 4.91419 12.0205 4.03712 11.4345C3.16006 10.8485 2.47648 10.0155 2.07281 9.04099C1.66914 8.06645 1.56352 6.99409 1.76931 5.95953C1.9751 4.92496 2.48305 3.97465 3.22893 3.22877C3.97481 2.48289 4.92512 1.97494 5.95968 1.76916C6.99425 1.56337 8.0666 1.66899 9.04114 2.07265C10.0157 2.47632 10.8486 3.15991 11.4347 4.03697C12.0207 4.91403 12.3335 5.94518 12.3335 7.00001C12.3319 8.414 11.7695 9.76962 10.7696 10.7695C9.76977 11.7693 8.41416 12.3317 7.00017 12.3333ZM8.39892 5.42254L7.66683 5.84539V3.66668C7.66683 3.48987 7.59659 3.3203 7.47157 3.19527C7.34655 3.07025 7.17698 3.00001 7.00017 3.00001C6.82335 3.00001 6.65379 3.07025 6.52876 3.19527C6.40374 3.3203 6.3335 3.48987 6.3335 3.66668V7.00001C6.33353 7.11703 6.36435 7.23197 6.42286 7.33331C6.48138 7.43464 6.56553 7.51879 6.66686 7.57731C6.76819 7.63583 6.88314 7.66665 7.00016 7.66668C7.11717 7.66671 7.23214 7.63595 7.3335 7.57748L9.06559 6.57748C9.14147 6.53373 9.20799 6.47546 9.26135 6.406C9.3147 6.33653 9.35385 6.25724 9.37655 6.17264C9.39925 6.08804 9.40506 5.9998 9.39364 5.91295C9.38223 5.82611 9.35382 5.74237 9.31003 5.66651C9.26624 5.59065 9.20793 5.52416 9.13844 5.47084C9.06895 5.41752 8.98963 5.37841 8.90502 5.35576C8.82041 5.3331 8.73217 5.32734 8.64533 5.3388C8.55849 5.35025 8.47476 5.37871 8.39892 5.42254Z"
                                    fill="#67798E"></path>
                            </svg>
                        </span>
                        <p>Last Updated {{explode('T',$row['updated_at'])[0]}}</p>
                    </div>
                    <div class="w-auto mr-16 px-4">
                        <p class="text-xs text-gray-500">‚≠ê {{$row['stargazers_count']}}</p>
                    </div>
                    <div>
                        <div class="">
                            <button @click="open = !open" class="text-sm text-justify">üóûÔ∏è</button>
                        </div>
                    </div>
                    <div class="w-auto px-4">
                        <a href="{{$row['html_url']}}" alt="repo url" target="_blank">üîó</a>
                    </div>
                    <span x-show="open" class="text-xs w-1/2 mx-auto">
                        {{$row['description']}}
                    </span>
                </div>
            </div>
            @endforeach
        @else 
        @foreach ($provider as $row)
        <div class="pl-4 pr-6 py-4 mb-2 bg-white shadow rounded">
            <div x-data="{ open: false }" class="flex flex-wrap items-center -mx-4">
                <div class="w-full md:w-3/6 mb-4 md:mb-0 px-4 flex items-center">
                    <img class="mr-3 h-6" src="{{$row['url']}}" alt="">
                    <h4 class="text-xs font-medium">
                        {{$row['name']}}
                    </h4>
                </div>
                <div class="w-auto ml-auto mr-16 px-4 flex items-center text-xs text-gray-500">
                    <span class="mr-1">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M7.00017 0.333344C5.68162 0.333344 4.39269 0.724337 3.29636 1.45688C2.20004 2.18942 1.34555 3.23061 0.840969 4.44879C0.336385 5.66696 0.204362 7.00741 0.461597 8.30061C0.718832 9.59382 1.35377 10.7817 2.28612 11.7141C3.21847 12.6464 4.40636 13.2813 5.69956 13.5386C6.99277 13.7958 8.33321 13.6638 9.55139 13.1592C10.7696 12.6546 11.8108 11.8001 12.5433 10.7038C13.2758 9.60748 13.6668 8.31855 13.6668 7.00001C13.6649 5.2325 12.9619 3.53795 11.712 2.28814C10.4622 1.03832 8.76767 0.335309 7.00017 0.333344ZM7.00017 12.3333C5.94533 12.3333 4.91419 12.0205 4.03712 11.4345C3.16006 10.8485 2.47648 10.0155 2.07281 9.04099C1.66914 8.06645 1.56352 6.99409 1.76931 5.95953C1.9751 4.92496 2.48305 3.97465 3.22893 3.22877C3.97481 2.48289 4.92512 1.97494 5.95968 1.76916C6.99425 1.56337 8.0666 1.66899 9.04114 2.07265C10.0157 2.47632 10.8486 3.15991 11.4347 4.03697C12.0207 4.91403 12.3335 5.94518 12.3335 7.00001C12.3319 8.414 11.7695 9.76962 10.7696 10.7695C9.76977 11.7693 8.41416 12.3317 7.00017 12.3333ZM8.39892 5.42254L7.66683 5.84539V3.66668C7.66683 3.48987 7.59659 3.3203 7.47157 3.19527C7.34655 3.07025 7.17698 3.00001 7.00017 3.00001C6.82335 3.00001 6.65379 3.07025 6.52876 3.19527C6.40374 3.3203 6.3335 3.48987 6.3335 3.66668V7.00001C6.33353 7.11703 6.36435 7.23197 6.42286 7.33331C6.48138 7.43464 6.56553 7.51879 6.66686 7.57731C6.76819 7.63583 6.88314 7.66665 7.00016 7.66668C7.11717 7.66671 7.23214 7.63595 7.3335 7.57748L9.06559 6.57748C9.14147 6.53373 9.20799 6.47546 9.26135 6.406C9.3147 6.33653 9.35385 6.25724 9.37655 6.17264C9.39925 6.08804 9.40506 5.9998 9.39364 5.91295C9.38223 5.82611 9.35382 5.74237 9.31003 5.66651C9.26624 5.59065 9.20793 5.52416 9.13844 5.47084C9.06895 5.41752 8.98963 5.37841 8.90502 5.35576C8.82041 5.3331 8.73217 5.32734 8.64533 5.3388C8.55849 5.35025 8.47476 5.37871 8.39892 5.42254Z"
                                fill="#67798E"></path>
                        </svg>
                    </span>
                </div>
                <div class="w-auto mr-16 px-4">
                    <p class="text-xs text-gray-500">‚≠ê {{$row['stars']}}</p>
                </div>
                <div>
                    <div class="">
                        <button @click="open = !open" class="text-sm text-justify">üóûÔ∏è</button>
                    </div>
                </div>
                <div class="w-auto px-4">
                    <a href="{{$row['url']}}" alt="repo url" target="_blank">üîó</a>
                </div>
                <span x-show="open" class="text-xs w-1/2 mx-auto">
                    {{$row['description']}}
                </span>
            </div>
        </div>
        @endforeach
        @endif
    </div>
    </div>
</section>
@stop